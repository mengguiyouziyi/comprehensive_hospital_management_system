# 数据库设计规则

## 设计原则
1. **规范化**: 遵循数据库设计范式，减少数据冗余
2. **性能优化**: 合理设计索引，提高查询效率
3. **安全性**: 敏感数据加密存储，权限控制
4. **可扩展性**: 支持未来功能扩展
5. **一致性**: 保证数据完整性和一致性

## 命名规范

### 数据库命名
- 数据库名使用小写字母，单词间用下划线分隔
- 以项目名称开头，如：comprehensive_hospital_management

### 表命名
- 表名使用小写字母，单词间用下划线分隔
- 表名使用复数形式
- 前缀表示模块，如: user_, device_, training_, adverse_
- 示例：users, devices, training_courses

### 字段命名
- 字段名使用小写字母，单词间用下划线分隔
- 使用完整单词或标准缩写
- 示例：user_id, full_name, created_at

### 索引命名
- 主键索引：pk_表名
- 唯一索引：uk_表名_字段名
- 普通索引：idx_表名_字段名
- 示例：pk_users, uk_users_username, idx_users_department_id

## 数据类型选择

### 数值类型
- 整数使用 INT UNSIGNED 或 BIGINT UNSIGNED
- 浮点数使用 DECIMAL(M,D) 精确表示
- 布尔值使用 TINYINT(1) 表示

### 字符串类型
- 固定长度字符串使用 CHAR
- 可变长度字符串使用 VARCHAR
- 大文本使用 TEXT 类型

### 时间类型
- 时间戳使用 TIMESTAMP
- 日期使用 DATE
- 时间使用 TIME

## 约束和索引

### 主键约束
- 每个表必须有主键
- 优先使用自增ID作为主键

### 外键约束
- 使用外键保证数据完整性
- 明确定义级联操作规则

### 唯一约束
- 对唯一性要求的字段添加唯一约束
- 如用户名、邮箱等

### 索引策略
- 为经常查询的字段创建索引
- 为外键字段创建索引
- 避免过多索引影响写入性能

## 安全规范

### 数据加密
- 密码等敏感信息必须加密存储
- 使用标准加密算法
- 密钥安全管理

### 权限控制
- 最小权限原则
- 分离读写权限
- 定期审查权限分配

## 医疗行业特殊要求

### 数据备份
- 定期备份重要数据
- 备份数据加密存储
- 制定数据恢复策略

### 审计日志
- 记录关键数据变更
- 包含操作人、时间、内容
- 审计日志不可篡改

### 合规性
- 遵守医疗数据保护法规
- 患者信息匿名化处理
- 数据访问日志记录